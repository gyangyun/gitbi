{# partial html - this is used by htmx inserting one query into dashboard #}
<script type="text/javascript">
    var chart_options = {{ viz }};
    var chart_el = document.getElementById('{{ echart_id }}');
    chart_el.addEventListener("newdata", (e) => {
        create_viz(e.detail.data, chart_options, chart_el);
    });
</script>
<hgroup>
    <h4>{{ db|e }}/{{ file|e }}</h4>
    <h5>Executed on {{ time|e }}</h5>
</hgroup>
<details>
    <summary role="button">Table</summary>
    {{ table }}
</details>
<details open>
    <summary role="button">Visualization</summary>
    <div id="{{ echart_id }}"></div>
</details>